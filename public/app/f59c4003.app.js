"use strict";angular.module("klikjsApp",["ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","$location","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){c.isLoggedInAsync(function(a){d.authenticate&&!a&&b.path("/")})})}]);var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var a=/\blang(?:uage)?-(?!\*)(\w+)\b/i,b=_self.Prism={util:{encode:function(a){return a instanceof c?new c(a.type,b.util.encode(a.content),a.alias):"Array"===b.util.type(a)?a.map(b.util.encode):a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(a){return Object.prototype.toString.call(a).match(/\[object (\w+)\]/)[1]},clone:function(a){var c=b.util.type(a);switch(c){case"Object":var d={};for(var e in a)a.hasOwnProperty(e)&&(d[e]=b.util.clone(a[e]));return d;case"Array":return a.map&&a.map(function(a){return b.util.clone(a)})}return a}},languages:{extend:function(a,c){var d=b.util.clone(b.languages[a]);for(var e in c)d[e]=c[e];return d},insertBefore:function(a,c,d,e){e=e||b.languages;var f=e[a];if(2==arguments.length){d=arguments[1];for(var g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);return f}var h={};for(var i in f)if(f.hasOwnProperty(i)){if(i==c)for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g]);h[i]=f[i]}return b.languages.DFS(b.languages,function(b,c){c===e[a]&&b!=a&&(this[b]=h)}),e[a]=h},DFS:function(a,c,d){for(var e in a)a.hasOwnProperty(e)&&(c.call(a,e,a[e],d||e),"Object"===b.util.type(a[e])?b.languages.DFS(a[e],c):"Array"===b.util.type(a[e])&&b.languages.DFS(a[e],c,e))}},highlightAll:function(a,c){for(var d,e=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),f=0;d=e[f++];)b.highlightElement(d,a===!0,c)},highlightElement:function(d,e,f){for(var g,h,i=d;i&&!a.test(i.className);)i=i.parentNode;if(i&&(g=(i.className.match(a)||[,""])[1],h=b.languages[g]),d.className=d.className.replace(a,"").replace(/\s+/g," ")+" language-"+g,i=d.parentNode,/pre/i.test(i.nodeName)&&(i.className=i.className.replace(a,"").replace(/\s+/g," ")+" language-"+g),h){var j=d.textContent;if(j){j=j.replace(/^(?:\r?\n|\r)/,"");var k={element:d,language:g,grammar:h,code:j};if(b.hooks.run("before-highlight",k),e&&_self.Worker){var l=new Worker(b.filename);l.onmessage=function(a){k.highlightedCode=c.stringify(JSON.parse(a.data),g),b.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(k.element),b.hooks.run("after-highlight",k)},l.postMessage(JSON.stringify({language:k.language,code:k.code}))}else k.highlightedCode=b.highlight(k.code,k.grammar,k.language),b.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(d),b.hooks.run("after-highlight",k)}}},highlight:function(a,d,e){var f=b.tokenize(a,d);return c.stringify(b.util.encode(f),e)},tokenize:function(a,c){var d=b.Token,e=[a],f=c.rest;if(f){for(var g in f)c[g]=f[g];delete c.rest}a:for(var g in c)if(c.hasOwnProperty(g)&&c[g]){var h=c[g];h="Array"===b.util.type(h)?h:[h];for(var i=0;i<h.length;++i){var j=h[i],k=j.inside,l=!!j.lookbehind,m=0,n=j.alias;j=j.pattern||j;for(var o=0;o<e.length;o++){var p=e[o];if(e.length>a.length)break a;if(!(p instanceof d)){j.lastIndex=0;var q=j.exec(p);if(q){l&&(m=q[1].length);var r=q.index-1+m,q=q[0].slice(m),s=q.length,t=r+s,u=p.slice(0,r+1),v=p.slice(t+1),w=[o,1];u&&w.push(u);var x=new d(g,k?b.tokenize(q,k):q,n);w.push(x),v&&w.push(v),Array.prototype.splice.apply(e,w)}}}}}return e},hooks:{all:{},add:function(a,c){var d=b.hooks.all;d[a]=d[a]||[],d[a].push(c)},run:function(a,c){var d=b.hooks.all[a];if(d&&d.length)for(var e,f=0;e=d[f++];)e(c)}}},c=b.Token=function(a,b,c){this.type=a,this.content=b,this.alias=c};if(c.stringify=function(a,d,e){if("string"==typeof a)return a;if("Array"===b.util.type(a))return a.map(function(b){return c.stringify(b,d,a)}).join("");var f={type:a.type,content:c.stringify(a.content,d,e),tag:"span",classes:["token",a.type],attributes:{},language:d,parent:e};if("comment"==f.type&&(f.attributes.spellcheck="true"),a.alias){var g="Array"===b.util.type(a.alias)?a.alias:[a.alias];Array.prototype.push.apply(f.classes,g)}b.hooks.run("wrap",f);var h="";for(var i in f.attributes)h+=i+'="'+(f.attributes[i]||"")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'" '+h+">"+f.content+"</"+f.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(a){var c=JSON.parse(a.data),d=c.language,e=c.code;_self.postMessage(JSON.stringify(b.util.encode(b.tokenize(e,b.languages[d])))),_self.close()},!1),_self.Prism):_self.Prism;var d=document.getElementsByTagName("script");return d=d[d.length-1],d&&(b.filename=d.src,document.addEventListener&&!d.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",b.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/("|')(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/(?!\d)[a-z0-9_$]+(?=\()/i}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),Prism.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),angular.module("klikjsApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0})}]),angular.module("klikjsApp").controller("LoginCtrl",["$scope","Auth","$location",function(a,b,c){a.user={},a.errors={},a.login=function(d){a.submitted=!0,d.$valid&&b.login({email:a.user.email,password:a.user.password}).then(function(){c.path("/doc")})["catch"](function(b){a.errors.other=b.message})}}]),angular.module("klikjsApp").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("klikjsApp").controller("SignupCtrl",["$scope","Auth","$location",function(a,b,c){a.user={},a.errors={},a.register=function(d){a.submitted=!0,d.$valid&&b.createUser({name:a.user.name,email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,c){d[c].$setValidity("mongoose",!1),a.errors[c]=b.message})})}}]),angular.module("klikjsApp").controller("AddOnsCtrl",["$scope","$http",function(a,b){a.message="Hello",b({method:"GET",url:"http://api.github.com/search/repositories?q=klikjs"}).success(function(b){console.log(b),a.gitAddons=b.items}).error(function(a){callback(a)})}]),angular.module("klikjsApp").config(["$stateProvider",function(a){a.state("add-ons",{url:"/add-ons",templateUrl:"app/add-ons/add-ons.html",controller:"AddOnsCtrl"})}]),angular.module("klikjsApp").controller("AddonCtrl",["$scope","$compile","$stateParams","$http",function(a,b,c,d){a.message="Hello";var e=c.addonId;d({method:"GET",headers:{accept:"application/vnd.github.v3.html+json"},url:"http://api.github.com/repositories/"+e}).success(function(b){a.activeAddon=b,console.log(a.activeAddon),d({method:"GET",headers:{accept:"application/vnd.github.v3.html+json"},url:a.activeAddon.downloads_url}).success(function(b){console.log(b),a.addonDl=b}).error(function(a){callback(a)})}).error(function(a){callback(a)}),d({method:"GET",headers:{accept:"application/vnd.github.v3.html+json"},url:"http://api.github.com/repositories/"+e+"/readme"}).success(function(b){console.log(b),a.addonReadme=b}).error(function(a){callback(a)})}]),angular.module("klikjsApp").config(["$stateProvider",function(a){a.state("addon",{url:"/addon/:addonId",templateUrl:"app/addon/addon.html",controller:"AddonCtrl"})}]),angular.module("klikjsApp").controller("AdminCtrl",["$scope","$http","Auth","User",function(a,b,c,d){a.users=d.query(),a["delete"]=function(b){d.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})},a.isAdmin=function(){return c.isAdmin()},a.isLoggedIn=function(){return c.isLoggedIn()}}]),angular.module("klikjsApp").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl"})}]),angular.module("klikjsApp").directive("dynamic",["$compile",function(a){return{restrict:"A",replace:!0,link:function(b,c,d){b.$watch(d.dynamic,function(d){c.html(d),a(c.contents())(b)})}}}]),angular.module("klikjsApp").directive("prism",[function(){return{restrict:"A",link:function(a,b,c){b.ready(function(){console.log(Prism),Prism.highlightElement(b[0])})}}}]),angular.module("klikjsApp").directive("scrollmenu",["$timeout",function(a){return{restrict:"EA",link:function(b,c,d){console.log("scrollmenu"),a(function(){$(c).find("a").on("click",function(a){a.preventDefault();var b=$(this).attr("href"),c=($("html, body"),$(b).offset().top);return console.log(c),$("html, body").animate({scrollTop:c-90},500),!1})},500)}}}]),angular.module("klikjsApp").factory("DocFactory",["$http",function(a){var b="http://localhost:9000/api/";return{getObjects:function(c){a({method:"GET",url:b+"objects"}).success(function(a){c(null,a)}).error(function(a){c(a)})}}}]).controller("DocCtrl",["$scope","DocFactory",function(a,b){b.getObjects(function(b,c){b?a.error=b:(a.objects=c,console.log(c))})}]),angular.module("klikjsApp").config(["$stateProvider",function(a){a.state("doc",{url:"/doc",templateUrl:"app/doc/doc.html",controller:"DocCtrl"})}]),angular.module("klikjsApp").controller("DownloadCtrl",["$scope","$http",function(a,b){a.message="Hello",b({method:"GET",headers:{accept:"application/vnd.github.v3.html+json"},url:"http://api.github.com/repositories/31611525"}).success(function(c){a.repo=c,console.log(c),b({method:"GET",headers:{accept:"application/vnd.github.v3.html+json"},url:c.downloads_url}).success(function(b){console.log(b),a.addonDl=b}).error(function(a){callback(a)})}).error(function(a){callback(a)})}]),angular.module("klikjsApp").config(["$stateProvider",function(a){a.state("download",{url:"/download",templateUrl:"app/download/download.html",controller:"DownloadCtrl"})}]),angular.module("klikjsApp").controller("MainCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("klikjsApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("klikjsApp").factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q",function(a,b,c,d,e,f){var g={};return e.get("token")&&(g=d.get()),{login:function(a,b){var h=b||angular.noop,i=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),g=d.get(),i.resolve(a),h()}).error(function(a){return this.logout(),i.reject(a),h(a)}.bind(this)),i.promise},logout:function(){e.remove("token"),g={}},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),g=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:g._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return g},isLoggedIn:function(){return g.hasOwnProperty("role")},isLoggedInAsync:function(a){g.hasOwnProperty("$promise")?g.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(g.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===g.role},getToken:function(){return e.get("token")}}}]),angular.module("klikjsApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("klikjsApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("klikjsApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("klikjsApp").controller("NavbarCtrl",["$scope","$location","Auth",function(a,b,c){a.menu=[{title:"Download",link:"/download"},{title:"Doc",link:"/doc"},{title:"Add-ons",link:"/add-ons"}],a.isCollapsed=!0,a.isLoggedIn=c.isLoggedIn,a.isAdmin=c.isAdmin,a.getCurrentUser=c.getCurrentUser,a.logout=function(){c.logout(),b.path("/login")},a.isActive=function(a){return a===b.path()}}]),angular.module("klikjsApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class="marginTop container"><div class=row><div class=col-sm-12><h1>Login</h1></div><div class=col-sm-12><form class=form name=form ng-submit=login(form) novalidate><div class=form-group><label>Email</label><input type=email name=email class=form-control ng-model=user.email required></div><div class=form-group><label>Password</label><input type=password name=password class=form-control ng-model=user.password required></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{ errors.other }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Login</button> <a class="btn btn-default btn-lg btn-register" href=/signup>Register</a></div></form></div></div><hr></div>'),a.put("app/account/settings/settings.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class="marginTop container"><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class="marginTop container"><div class=row><div class=col-sm-12><h1>Sign up</h1></div><div class=col-sm-12><form class=form name=form ng-submit=register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                            \'has-error\': form.name.$invalid && submitted }"><label>Name</label><input name=name class=form-control ng-model=user.name required><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\n                                            \'has-error\': form.email.$invalid && submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n                                            \'has-error\': form.password.$invalid && submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-register" href=/login>Login</a></div></form></div></div><hr></div>'),a.put("app/add-ons/add-ons.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class="docMain container-fluid offset-md-3"><div class=addonSearch><input class=form-control placeholder="Search an add-on here..."></div><div class=addon ui-sref="addon({ addonId: addon.id })" ng-repeat="addon in gitAddons"><div><div class=addonTitle><a href=""><h2>{{addon.name}}</h2></a><h3>{{addon.owner.login}}</h3></div><p>{{addon.description}}</p><p class=update>Updated on {{addon.updated_at | date : format : timezone}}</p></div></div></div>'),a.put("app/addon/addon.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div id=addonProfile><ul><li class=first-level><h4><a target=blank href={{activeAddon.owner.html_url}}>{{activeAddon.owner.login}}</a></h4></li><li><a target=blank href={{activeAddon.owner.html_url}}><img class=avatarGit src={{activeAddon.owner.avatar_url}} alt=""></a></li></ul></div><div class="docMain container-fluid offset-md-3"><div dynamic=addonReadme></div></div>'),a.put("app/admin/admin.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div ng-if=isAdmin() class="marginTop container"><h1>Admin panel</h1><button class=btn>Add method</button></div>'),a.put("app/doc/doc.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div id=docNav scrollmenu><ul><li class=first-level><h4><a href=#firstSteps>First steps</a></h4></li><li class=first-level><h4><a href=#klik>Klik</a></h4></li><li class=secondLevel><a href=#addLayer>addLayer()</a></li><li class=secondLevel><a href=#addGraphicLayer>addGraphicLayer()</a></li><li class=secondLevel><a href=#setControls>setControls()</a></li><li class=secondLevel><a href=#togglePlayPause>togglePlayPause()</a></li><li class=secondLevel><a href=#toggleMute>toggleMute()</a></li><li class=secondLevel><a href=#toggleFullscreen>toggleFullscreen()</a></li><li class=secondLevel><a href=#seekBar>seekBar()</a></li><li class=secondLevel><a href=#seekVolume>seekVolume()</a></li><li class=secondLevel><a href=#getVideoElement>getVideoElement()</a></li><li class=secondLevel><a href=#getVideoDuration>getVideoDuration()</a></li><li class=secondLevel><a href=#getVideoCurrentTime>getVideoCurrentTime()</a></li><li class=secondLevel><a href=#getVideoDimensions>getVideoDimensions()</a></li><li class=first-level><h4><a href=#klikLayer>KlikLayer</a></h4></li><li class=secondLevel><a href=#stylise>stylise()</a></li><li class=secondLevel><a href=#dynamise>dynamise()</a></li><li class=secondLevel><a href=#adaptToVideo>adaptToVideo()</a></li></ul></div><div class="docMain container-fluid offset-md-3"><div class=object><div><div id=firstSteps><h1>First steps</h1><h3>The library</h3><p>The library is a brand new library that allows you to be infinitely creative on HTML5 video player. You can with this library "easily" get an interactive HTML5 video players. Add custom layers between your custom controls and the image of the video, stylise them, dynamise them.</p><h3>Ready? Go!</h3><h4>Download the files:</h4><strong><a target=blank href="http://jquery.com/download/">Jquery</a></strong> <strong><a target=blank href="http://raphaeljs.com/">Raphaël</a></strong> <strong><a href=download>Klik</a></strong><h4>Include files:</h4><pre><code class=language-javascript prism>\n&lt;script src="jquery.js">&lt;/script>\n&lt;script src="raphael.js">&lt;/script>\n&lt;script src="klik.js">&lt;/script>\n&lt;script src="yourScript.js">&lt;/script>\n</code></pre><h4>Prepare your HTML5 video</h4><pre><code class=language-javascript prism>\n&lt;video class="klik" width="" height="">\n	  &lt;source src="yourVideo.mp4" type="video/mp4">\n	   Your browser does not support the video tag.\n&lt;/video>\n</code></pre><h4>In yourScript.js</h4><pre><code class=language-javascript prism>\nvar klikVideo = new Klik(\'.klik\');\n</code></pre><h2>Enjoy!</h2></div></div><div id=klik><h1>Klik(selector, width, height, position)</h1><h3>Parameters</h3><dl><dt>Selector: (required) <span class=type>String</span></dt><dd>Id or Class pointing to your HTML5 video element</dd><dt>Width: (optional) <span class=type>String</span> OR <span class=type>Number</span></dt><dd>Width of your video element if not defined in your element. (Default: 100%)</dd><dt>Height: (optional) <span class=type>String</span> OR <span class=type>Number</span></dt><dd>Height of your video element if not defined in yout element. (Default: 100%)</dd><dt>Position: (optional) <span class=type>String</span></dt><dd><span class=string>"left"</span> or <span class=string>"center"</span> (by default) or <span class=string>"right"</span> - It defines the position of your video element in its container.</dd></dl><h4>Initialisation example</h4><pre><code class=language-javascript prism>\n// Include scripts in your code\n	var klik = new Klik(\'.video\');\n//To set your video and its parameters\n	klik.createVideo();\n</code></pre><!-- <div hljs>\n				// Include scripts in your code\n				<script src="lib/jquery-1.11.3.js"></script>\n			    <script src="lib/raphael.js"></script>\n			    <script src="klik.js"></script>\n				var klik = new Klik(\'.video\');\n				//To set your video and its parameters\n				klik.createVideo();\n			</div> --></div><div><div id=addLayer><h1>addLayer(template, callback())</h1><h3>Parameters</h3><dl><dt>Template: (optional) <span class=type>String</span></dt><dd>HTML template that you want append to your layer.</dd><dt>Callback(): (optional) <span class=type>Function</span></dt><dd>Callback function to addLayer(). You will need this callback() to apply transformations to the sended template.</dd></dl><p>This method add a layer above the html5 video element. The layer is a <span class=element>div</span> element, and the injected template as parameters will be append to this <span class=element>div</span>. All kind of data can be displayed on these layers, your creativity is the only limitation.</p><p>You can add as many layers as you want, be <strong>careful</strong> to the order. The last called one will be the first layer.</p><br><p>In the following example, layer2 will be in front of layer1.</p><p>layer1 and layer2 are both klikLayers() now. <a href=#klikLayer>Reference</a></p><h4>Example</h4><pre><code class=language-javascript prism>\nvar layer1 = addLayer(); // this layer will be a div covering all the html5 video element\nvar layer2 = addLayer(template, function(){\n	// Manipulate the template here\n});\n</code></pre></div></div><div><div id=addGraphicLayer><h1>addGraphicLayer()</h1><p>This method add a layer above the html5 video element. The layer is a <span class=element>div</span> element, with a <a href="http://raphaeljs.com/">Raphaël</a> svg element inside. This layer allows all kind of <span class=element>SVG</span> elements, like <span class=element>paths</span> or defined geometric forms. The difference with a simple layer, is that this one can be <a href=#dynamise>dynamised</a>.</p><p>You can add as many layers as you want, be <span>careful</span> to the order, the last called one will be the first layer.</p><br><p>In the following example, graphicLayer2 will be in front of graphicLayer1.</p><p>graphicLayer1 and grpahicLayer2 are both klikLayers() now. <a href=#klikLayer>Reference</a></p><h4>Example</h4><pre><code class=language-javascript prism>\nvar graphicLayer1 = addGraphicLayer(); \nvar graphicLayer2 = addGraphicLayer();\n</code></pre></div></div><div><div id=setControls><h1>setControls(template, callback())</h1><h3>Parameters</h3><dl><dt>Template: (optional) <span class=type>String</span></dt><dd>HTML controls template that you want to your video. It\'s highly recommanded to send a template, the default one is very basic.</dd><dt>Callback(): (optional) <span class=type>Function()</span></dt><dd>Callback function to setControls(). You will need this callback() to manage the events on your controler buttons.</dd></dl><p>This method works almost like the addLayer() one. Be <strong>careful</strong> to call this method <strong>after</strong> all the other layers. The order is still important to keep the video commands in the first place of all your layer.</p><h4>Example</h4><pre><code class=language-javascript prism>\nklik.setControls(controllerTemplate, function(){\n	// Here all your interactions with your controller\n	//Example using JQuery\n	$(\'#playPause\').on(\'click\', function(){\n		klik.togglePlayPause(); \n	})\n	// ...\n})\n</code></pre></div></div><div><div id=togglePlayPause><h1>togglePlayPause()</h1><p>This method toggle play and pause of your klik html5 video. If the video is paused, it will play, if the video is playing, it will pause de video.</p><h4>Example</h4><pre><code class=language-javascript prism>\nklik.setControls(controllerTemplate, function(){\n	// Here all your interactions with your controller\n	//Example using JQuery\n	$(\'#playPause\').on(\'click\', function(){\n		klik.togglePlayPause(); \n	})\n	// ...\n})\n// Or when you want, just call\nklik.togglePlayPause();\n</code></pre></div></div><div><div id=toggleMute><h1>toggleMute()</h1><p>This method toggle mute of your klik html5 video.</p><h4>Example</h4><pre><code class=language-javascript prism>\nklik.setControls(controllerTemplate, function(){\n	// Here all your interactions with your controller\n	//Example using JQuery\n	$(\'#toggleMute\').on(\'click\', function(){\n		klik.toggleMute(); \n	})\n	// ...\n})\n// Or when you want, just call\nklik.toggleMute();\n</code></pre></div></div><div><div id=toggleFullscreen><h1>toggleFullscreen()</h1><p>This method toggle fullscreen option of your klik html5 video.</p><h4>Example</h4><pre><code class=language-javascript prism>\nklik.setControls(controllerTemplate, function(){\n	// Here all your interactions with your controller\n	//Example using JQuery\n	$(\'#toggleFullscreenButton\').on(\'click\', function(){\n		klik.toggleFullscreen(); \n	})\n	// ...\n})\n// Or when you want, just call\nklik.toggleFullscreen();\n</code></pre></div></div><div><div id=seekBar><h1>seekBar(inputId)</h1><h3>Parameter</h3><dl><dt>inputId: (required) <span class=type>String</span></dt><dd>The identification of your <span class=element>input</span> type range.</dd></dl><p>This method update the position of your seek bar. This has to be an &lt;input type="range" min=1 max="100" step="1" value="0">.</p><h4>Example</h4><pre><code class=language-javascript prism>\nvar controllerTemplate = \'...&lt;input type="range" class="mySeekBarInput" min=1 max="100" step="1" value="0">...\';\n</code></pre><pre><code class=language-javascript prism>\nklik.setControls(controllerTemplate, function(){\n	// Here all your interactions with your controller\n	klik.seekBar(\'.mySeekBarInput\')\n	// ...\n})\n</code></pre></div></div><div><div id=seekVolume><h1>seekVolume()</h1><h3>Parameter</h3><dl><dt>inputId: (required) <span class=type>String</span></dt><dd>The identification of your <span class=element>input</span> type range.</dd></dl><p>This method connect your seek bar with the HTML5 klik video volume. This has to be an &lt;input class="seek-volume" min="0" max="1" step="0.1" type="range">.</p><h4>Example</h4><pre><code class=language-javascript prism>\nvar controllerTemplate = \'...&lt;&lt;input class="seek-volume" min="0" max="1" step="0.1" type="range">...\';\n</code></pre><pre><code class=language-javascript prism>\nklik.setControls(controllerTemplate, function(){\n	// Here all your interactions with your controller\n	klik.seekVolume(\'.seek-volume\')\n	// ...\n})\n</code></pre></div></div><div><div id=getVideoElement><h1>getVideoElement()</h1><p>This method allows you to get your klik video element, to do what you want with it.</p><h4>Example</h4><pre><code class=language-javascript prism>\nvar videoElement = klik.getVideoElement();\n</code></pre></div></div><div><div id=getVideoDuration><h1>getVideoDuration()</h1><p>This method return the duration of the HTML5 klik video element.</p><h4>Example</h4><pre><code class=language-javascript prism>\nvar videoDuration = klik.getVideoDuration();\n// videoDuration = 53.2132 for example\n</code></pre></div></div><div><div id=getVideoCurrentTime><h1>getVideoCurrentTime()</h1><p>This method return the current time of the HTML5 klik video element.</p><h4>Example</h4><pre><code class=language-javascript prism>\nvar videoCurrentTime = klik.getVideoCurrentTime();\n// videoCurrentTime = 10.432 for example\n</code></pre></div></div><div><div id=getVideoDimensions><h1>getVideoDimensions()</h1><p>This method return the dimensions of the HTML5 klik video element. It doesn\'t returns the dimensions of the whole element, but the dimensions of the image of the video. (Without the black stripes).</p><h4>Example</h4><pre><code class=language-javascript prism>\nvar videoDim = klik.getVideoDimensions();\n</code></pre><span class=return>Return</span> [object]<pre><code class=language-javascript prism>\n// Returned object\n{\n	width: Number, // Image width\n	height: Number // Image height\n}\n</code></pre></div></div><div><div id=klikLayer><h1>KlikLayer()</h1><p>This method return the dimensions of the HTML5 klik video element. It doesn\'t returns the dimensions of the whole element, but the dimensions of the image of the video. (Without the black stripes).</p></div></div><div><div id=stylise><h1>stylise(css)</h1><h4>Parameter</h4><dl><dt>css: (required) <span class=type>Object</span></dt><dd>The css object of the layer that you want apply to the layer itself.</dd></dl><p>This method allows you to stylise the layer that you added. Note that the layer is already in an <strong>absolute position</strong>, which means that you can place your layer with "top", "bottom", "left" or "right".</p><pre><code class=language-javascript prism>\n// css object\nvar css = {\n	\'background-color\':\'rgba(0, 0, 0, 0.5)\',\n	\'left\': \'-50%\'\n}\n// Call method\nlayer1.stylise(css);\n</code></pre></div></div><div><div id=dynamise><h1>dynamise(data)</h1><span class=danger>Only available on <a href=#addGraphicLayer>graphicLayers</a></span><h4>Parameter</h4><dl><dt>data: (required) <span class=type>Object</span></dt><dd>The data of the polygons, their points and metadatas.</dd></dl><h4>Data</h4><pre><code class=language-javascript prism>\n// Data json model\nvar dataModel = [\n	{\n		"duration": Number,\n		"polygon":[\n			"id": Number,\n			"element"(optional):{\n				// Metadata of the physical element that the polygon represent\n			},\n			"points":[\n				"id": Number,\n				"x": Number, // point x position in PERCENTAGE - value 0 - 100.\n				"y": Number // point x position in PERCENTAGE - value 0 - 100.\n			]	\n		]\n	}\n]\n</code></pre><h4>Data specifications</h4><p>The model is the minima that the data needs. If you want to upgrade this data and add methods for this library, please, don\'t hesitate!</p><dl><dt>Duration: (required) <span class=type>Number</span></dt><dd>The duration is then rounded to the quarter of second below. For a duration of 3.38, the duration will be 3.25. You can send the duration data with the precision that you want, but note that in the script they will be rounded to .00, .25, .5 and .75</dd><dt>Polygon: (required) <span class=type>Object</span></dt><dd>The polygon object will be shown at his duration. If the same polygon referred with its <strong>id</strong> is on a later duration, this one will move thanks to the "tweening" to its next position.</dd><dt>Element: (optional) <span class=type>Object</span></dt><dd>The element object is important if you want to show data link to the polygon on a certain event. This object structure depends of what type of action you want to trigger, it has to be defined in the add-ons of the library.</dd><dt>Points: (required) <span class=type>Object</span></dt><dd>Each polygon is defined by as many points as he needs.</dd><dt>X & Y: (required) <span class=type>Number</span></dt><dd>The number of this value represent the position of the point on the X/Y axis. <span class=danger>Important:</span> The value is the position in <strong>percentage</strong> on the graphicLayer.</dd></dl></div></div><div><div id=adaptToVideo><h1>adaptToVideo()</h1><p>This method is very usefull if you want to work on a layer that represent only the "image" of the video, and not all the video element (black stripes included).</p><pre><code class=language-javascript prism>\n// add a layer to your klik element\nvar layer = klik.addLayer() // or addGraphicLayer()\n\n// now the layer recover the entire video element.\n\n// adapt layer only to the image of the video\nlayer.adaptToVideo();\n\n// now the layer recover only the "image" of the video.\n</code></pre><p><span class=danger>Note:</span> Respect the order that you created layers. If you don\'t, it\'s possible that this method won\'t work. See explication below:</p><pre><code class=language-javascript prism>\n// add layers to your klik element\nvar layer1 = klik.addLayer();\nvar layer2 = klik.addLayer();\n\n// respect the order\n\nlayer1.adaptToVideo();\nlayer2.adaptToVideo();\n\n// and not \n\nlayer2.adaptToVideo();\nlayer1.adaptToVideo();\n\n// this issue will be resolved in next versions\n</code></pre></div></div></div></div>'),
a.put("app/download/download.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class="docMain container-fluid offset-md-3"></div>'),a.put("app/main/main.html",'<div id=klikjs class=col-md-33><div id=titlelogo>Klik<span>.js</span></div><h3>klik, the library that upgrade your HTML5 video player in the next dimension, the ineractivity.</h3></div><div id=logo class=col-md-33><img src=assets/images/6f416553.logo.png alt=""></div><div id=buttons><button class=btn ui-sref=download>Download Library<br><span>(version 0.0.0)</span></button> <button class=btn ui-sref=doc>View doc</button> <button class=btn ui-sref=add-ons>Add-ons</button></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-fixed-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand><img src=assets/images/61e7a21c.poney_petit.png alt=""></a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/admin\')}"><a href=/admin>Admin</a></li></ul><!--  <ul class="nav navbar-nav navbar-right">\n        <li ng-hide="isLoggedIn()" ng-class="{active: isActive(\'/signup\')}"><a href="/signup">Sign up</a></li>\n        <li ng-hide="isLoggedIn()" ng-class="{active: isActive(\'/login\')}"><a href="/login">Login</a></li>\n        <li ng-show="isLoggedIn()"><p class="navbar-text">Hello {{ getCurrentUser().name }}</p> </li>\n        <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/settings\')}"><a href="/settings"><span class="glyphicon glyphicon-cog"></span></a></li>\n        <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click="logout()">Logout</a></li>\n      </ul> --></div></div></div>')}]);